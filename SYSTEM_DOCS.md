
# 智慧办公空间管理系统 (SmartOffice) - 需求说明书及操作手册

## 1. 系统概述
智慧办公空间管理系统（SmartOffice）是一款面向现代化企业的物理资源管理平台。系统集成了会议室预订、工位申请、多级审批流程自定义、组织架构管理以及基于 Gemini AI 的智能选址建议。

### 1.1 系统核心价值
- **透明化**：实时展示空间占用情况，消除资源冲突。
- **自动化**：自定义审批流，实现申请-审批闭环。
- **智能化**：利用 AI 推荐最匹配业务需求的办公空间。
- **高效化**：支持成员、资产及部门的批量导入导出管理。

---

## 2. 角色定义与权限
系统预设三种核心角色，支持权限集的灵活扩展：

| 角色 | 权限描述 |
| :--- | :--- |
| **系统管理员 (SYSTEM_ADMIN)** | 拥有最高权限。包括：组织架构管理、角色定义、审批流程配置、数据备份与重置、全量数据导入。 |
| **审批负责人 (APPROVAL_ADMIN)** | 负责业务层面的审核。可访问“审批工作台”进行单据的核准或驳回。 |
| **正式员工 (EMPLOYEE)** | 基础使用者。拥有资源查询、预约申请、查看个人申请记录及流程轨迹的权限。 |

---

## 3. 功能模块说明

### 3.1 账户与登录 (Account & Login) - [更新]
- **多渠道登录**：用户可以使用注册的“企业邮箱”或“手机号码”进行登录。
- **初始密码**：所有新账号默认初始密码为 `123456`。
- **强制改密**：系统强制要求初次登录或正在使用初始密码的用户必须修改密码后方可进入系统主界面。

### 3.2 数据全景看板 (Dashboard)
- **实时统计**：直观展示资源总量、空闲会议室/工位数量及待办审批任务。
- **今日动态时间轴**：展示各资源在当天的预订分布，并透出预订人及其所属部门。
- **月度占用网格**：前瞻性展示未来 30 天内所有资源的预订密度，支持通过气泡查看详细的预订归属。

### 3.3 空间资源库 (Resource Library)
- **列表与日历视图**：针对工位提供月度可用性日历，支持点击空白单元格直接预订。
- **AI 智能建议**：基于 Gemini 引擎分析用途并推荐最合适的办公空间。

### 3.4 组织架构与批量导入 (Admin)
- **部门管理**：树形结构展示企业架构，支持一键批量导入部门。
- **批量导入中心**：提供 USERS (成员)、RESOURCES (资源)、DEPARTMENTS (部门) 的标准 CSV 模板。

---

## 4. 操作手册

### 4.1 如何初次登录？
1. 在登录页输入您的邮箱（例如 `li@company.com`）或手机号。
2. 输入初始密码 `123456`。
3. 点击登录后，系统会自动跳转至“安全验证”页，请设置并确认您的新密码。
4. 提交后即可正常使用系统。

### 4.2 如何批量导入部门架构？
1. 进入“部门管理”，点击右上角“批量导入”。
2. 点击“下载标准 CSV 模板”查看格式。
3. 粘贴 CSV 文本或直接上传文件，点击“开始导入”。

### 4.3 如何通过看板查看谁在用会议室？
1. 进入“数据全景看板”。
2. 查看“今日实时动态”中的时间轴色块。
3. 色块上直接显示了 `姓名 · 部门`，鼠标悬停可查看具体的预约用途。

---

## 5. 技术方案备注
- **存储方案**：基于浏览器 `LocalStorage` 实现持久化。
- **安全机制**：前端模拟强制改密流程，记录 `needsPasswordChange` 状态。
- **AI 服务**：集成 Gemini-3-Flash，实时分析预约用途。
